function importLibraries(){document.head.innerHTML+='<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">',document.head.innerHTML+='<link rel="preconnect" href="https://fonts.gstatic.com">',document.head.innerHTML+='<link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet">'}function createEditor(e,t,n){let o=document.createElement("div");o.className="col-lg-4 col-sm";let l=document.createElement("span");l.className="badge badge-"+t,l.innerText=e.toUpperCase();let a=document.createElement("div");a.className="bg-dark rounded",a.style.height="250px",a.style.overflow="auto";let r=document.createElement("textarea");return r.setAttribute("rows",0),r.id=e,r.className="col-11 pl-2 pt-2 bg-dark text-warning",r.style.fontFamily="'PT Mono', monospace",r.style.border="none",r.style.outline="none",r.style.overflow="auto",r.style.resize="none",r.style.whiteSpace="nowrap",void 0!==n&&(r.value=n),r.placeholder=e.toUpperCase(),a.appendChild(r),o.appendChild(l),o.appendChild(document.createElement("br")),o.appendChild(a),o}function initialize(){let e=document.getElementById("code-editor"),t=document.createElement("div");t.className="row",e.appendChild(t),t.appendChild(createEditor("html","primary",e.dataset.html)),t.appendChild(createEditor("css","danger",e.dataset.css)),t.appendChild(createEditor("js","warning",e.dataset.js));let n=document.createElement("iframe");n.id="code",n.className="col mt-3",t.appendChild(n)}async function compile(){let e=document.getElementById("html"),t=document.getElementById("css"),n=document.getElementById("js"),o=document.getElementById("code").contentWindow.document;if(!e.value){const l=await fetch("https://api.quotable.io/random"),a=await l.json();e.value="<blockquote>",e.value+="<p>",e.value+=a.content,e.value+="</p>",e.value+="<footer>",e.value+="- "+a.author+" -",e.value+="</footer>",e.value+="</blockquote>",t.value="blockquote {text-align: center; font-family: 'PT Mono', monospace;}",o.open(),o.writeln(e.value+"<style>"+t.value+"</style><script>"+n.value+"<\/script>"),o.close()}document.body.onload=function(){o.open(),o.writeln(e.value+"<style>"+t.value+"</style><script>"+n.value+"<\/script>"),o.close()},document.body.onkeyup=function(){o.open(),o.writeln(e.value+"<style>"+t.value+"</style><script>"+n.value+"<\/script>"),o.close()}}function tabSupport(){var e=document.getElementsByTagName("textarea");for(let t=0;t<e.length;t++)e[t].addEventListener?e[t].addEventListener("keydown",this.tabHandler,!1):e[t].attachEvent&&e[t].attachEvent("onkeydown",this.tabHandler)}function tabHandler(e){if(9==e.keyCode)return this.value+="\t",e.preventDefault&&e.preventDefault(),!1}var eventList={};function updateLineNumbers(e,t){const n=e.value.split("\n").length,o=t.children.length;let l=n-o;if(l>0){const a=document.createDocumentFragment();let r=o+1;for(;l>0;){e.setAttribute("rows",n);const t=document.createElement("div");t.className="text-secondary",t.style.marginLeft="2px",t.innerText=r,a.appendChild(t),l--,r+=1}t.appendChild(a)}for(;l<0;)t.removeChild(t.lastChild),e.setAttribute("rows",n),l++}function appendLineNumbers(e){const t=document.getElementById(e),n=document.createElement("div");n.className="d-inline-block ml-1",n.style.position="relative",n.style.top="-8px",t.parentNode.insertBefore(n,t),updateLineNumbers(t,n),eventList[e]=[];const o=["propertychange","input","keydown","keyup"],l=function(e,t){return function(n){(10!=+e.scrollLeft||37!=n.keyCode&&37!=n.which&&"ArrowLeft"!=n.code&&"ArrowLeft"!=n.key)&&36!=n.keyCode&&36!=n.which&&"Home"!=n.code&&"Home"!=n.key&&13!=n.keyCode&&13!=n.which&&"Enter"!=n.code&&"Enter"!=n.key&&"NumpadEnter"!=n.code||(e.scrollLeft=0),updateLineNumbers(e,t)}}(t,n);for(let n=o.length-1;n>=0;n--)t.addEventListener(o[n],l),eventList[e].push({evt:o[n],hdlr:l});const a=["change","mousewheel","scroll"],r=function(e,t){return function(){t.scrollTop=e.scrollTop}}(t,n);for(let n=a.length-1;n>=0;n--)t.addEventListener(a[n],r),eventList[e].push({evt:a[n],hdlr:r})}importLibraries(),initialize(),tabSupport(),compile(),appendLineNumbers("html"),appendLineNumbers("css"),appendLineNumbers("js");